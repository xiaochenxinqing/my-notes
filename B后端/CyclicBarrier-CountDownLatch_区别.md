# CyclicBarrier  CountDownLatch 区别

CyclicBarrier：一种同步辅助工具，允许一组线程都等待彼此到达一个共同的障碍点。cyclicbarrier在涉及固定大小的线程组的程序中很有用，这些线程偶尔必须等待对方。这个屏障被称为（循环的），因为它可以在等待的线程被释放后重新使用。

CountDownLatch： 一种同步辅助工具，允许一个或多个线程等待一组在其他线程中执行的操作完成。倒计时锁存器用给定的计数初始化。由于调用倒计时方法，await方法阻塞直到当前计数达到零，之后释放所有等待线程，并立即返回任何后续的await调用。这是一种一次性现象——计数无法重置。如果需要重置计数的版本，请考虑使用CyclicBarrier。

从javadoc的定义中我们可以看出

CountDownLatch侧重于一个或者多个线程等待其他线程中执行的操作完成。应用场景如：背景想要获取用户最大的数据集合（用户基本数据、订单、购物车信息），但是用户基本数据、订单、购物车信息都在不同的微服务中，这种情况可以使用，主线程在获取基本数据的同时，将订单信息、购物信息另开线程异步获取，最终主线程会等待其他线程获取的消息进行合集返回

CyclicBarrier更加侧重：所有的线程都在await()的，等待最后一个计数之后，所有的线程统一执行，感觉可以用在压测上。

————————————————

版权声明：本文为CSDN博主「技术王老五」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。

原文链接：[https://blog.csdn.net/u013099854/article/details/117998914](https://blog.csdn.net/u013099854/article/details/117998914)
